{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\quinorslv\\\\quinors-app-frontend\\\\client\\\\src\\\\components\\\\forms\\\\DestinationStoreSelector.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useDelivery } from '../../context/DeliveryContext';\nimport { useAuth } from '../../context/AuthContext';\nimport Header from '../common/Header';\nimport FloatingPreview from '../common/FloatingPreview';\nimport Button from '../ui/Button';\nimport SearchInput from '../common/SearchInput';\nimport Card from '../ui/Card';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DestinationStoreSelector = () => {\n  _s();\n  const {\n    deliveryType,\n    originStore,\n    destinationStore,\n    dispatch,\n    setDestinationStore\n  } = useDelivery();\n  const {\n    user,\n    token\n  } = useAuth();\n  const [selectedStore, setSelectedStore] = useState(destinationStore);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [stores, setStores] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [forceUpdate, setForceUpdate] = useState(0);\n\n  // 3단계 선택 상태 (모달에서 사용)\n  const [selectedStoreData, setSelectedStoreData] = useState(null);\n  const [selectedDepartment, setSelectedDepartment] = useState(null);\n  const [selectedManager, setSelectedManager] = useState(null);\n  const [departmentManagers, setDepartmentManagers] = useState([]);\n\n  // 모달 상태\n  const [showModal, setShowModal] = useState(false);\n  const [modalStep, setModalStep] = useState(1);\n  const [modalSearchTerm, setModalSearchTerm] = useState('');\n\n  // 강제 리렌더링 함수\n  const triggerUpdate = useCallback(() => {\n    setForceUpdate(prev => prev + 1);\n  }, []);\n\n  // 매장 데이터 가져오기\n  useEffect(() => {\n    const fetchStores = async () => {\n      if (!token) {\n        setLoading(false);\n        setError('로그인이 필요합니다');\n        setStores([]);\n        return;\n      }\n      try {\n        setLoading(true);\n        setError('');\n        const response = await fetch('https://quinors-lv-backend.ngrok.io/api/auth/stores?active=true&limit=100', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (!response.ok) {\n          throw new Error(`API 호출 실패: ${response.status}`);\n        }\n        const result = await response.json();\n        if (!result.success || !result.data || result.data.length === 0) {\n          throw new Error('매장 데이터가 없습니다');\n        }\n\n        // 서버 응답 구조에 맞게 데이터 처리\n        const finalStores = result.data.map(store => {\n          // 부서별로 담당자 그룹화\n          const departmentGroups = {};\n          if (Array.isArray(store.departments)) {\n            store.departments.forEach((dept, deptIndex) => {\n              const department = dept.department || '일반';\n              const managerName = dept.managerName || '담당자';\n              if (!departmentGroups[department]) {\n                departmentGroups[department] = [];\n              }\n              departmentGroups[department].push({\n                id: `${store._id}_${department}_${managerName}_${deptIndex}`,\n                managerName: managerName,\n                phone: dept.managerPhone || '',\n                fullPhone: dept.fullPhone || (dept.managerPhone ? dept.managerPhone.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-$2-$3') : '')\n              });\n            });\n          }\n          return {\n            id: store._id,\n            storeCode: store.storeCode || '',\n            name: store.storeName || '',\n            address: store.address || '',\n            isActive: store.isActive !== false,\n            departments: store.departments || [],\n            departmentGroups: departmentGroups\n          };\n        });\n\n        // 출발지와 같은 매장 필터링\n        const filteredStores = finalStores.filter(store => !originStore || store.id !== originStore.id);\n        console.log('✅ 도착지 매장 데이터 로딩 완료:', filteredStores.length, '개');\n        setStores(filteredStores);\n        setLoading(false);\n      } catch (error) {\n        console.error('❌ 매장 데이터 로딩 실패:', error);\n        setError(error.message || '매장 데이터를 불러오는데 실패했습니다');\n        setStores([]);\n        setLoading(false);\n      }\n    };\n    fetchStores();\n  }, [token, forceUpdate, originStore]);\n\n  // 검색 필터링\n  const filteredStores = stores.filter(store => {\n    if (!searchTerm.trim()) return true;\n    const searchLower = searchTerm.toLowerCase();\n    return store.name.toLowerCase().includes(searchLower) || store.address.toLowerCase().includes(searchLower) || store.storeCode.toLowerCase().includes(searchLower);\n  });\n\n  // 부서 색상 함수\n  const getDepartmentColor = department => {\n    const colors = {\n      '매장': 'bg-blue-100 text-blue-700 border-blue-200',\n      '창고': 'bg-green-100 text-green-700 border-green-200',\n      '사무실': 'bg-purple-100 text-purple-700 border-purple-200',\n      '일반': 'bg-gray-100 text-gray-700 border-gray-200'\n    };\n    return colors[department] || colors['일반'];\n  };\n\n  // 매장 선택 핸들러\n  const handleStoreSelect = store => {\n    console.log('도착지 매장 선택:', store.name);\n    setSelectedStoreData(store);\n    setModalStep(1);\n    setModalSearchTerm('');\n    setShowModal(true);\n  };\n\n  // 모달에서 부서 선택\n  const handleModalDepartmentSelect = department => {\n    console.log('도착지 부서 선택:', department);\n    setSelectedDepartment(department);\n\n    // 해당 부서의 담당자들 설정\n    const managers = selectedStoreData.departmentGroups[department] || [];\n    setDepartmentManagers(managers);\n    setModalStep(2);\n  };\n\n  // 모달에서 담당자 선택\n  const handleModalManagerSelect = manager => {\n    console.log('도착지 담당자 선택:', manager);\n    setSelectedManager(manager);\n  };\n\n  // 모달 확인 (최종 선택 완료)\n  const handleModalConfirm = () => {\n    if (!selectedManager || !selectedStoreData || !selectedDepartment) {\n      alert('모든 정보를 선택해주세요.');\n      return;\n    }\n\n    // 🎯 선택된 매장 정보에 부서와 담당자 정보 추가\n    const completeStoreInfo = {\n      ...selectedStoreData,\n      // 선택된 부서 정보 추가\n      selectedDepartment: selectedDepartment,\n      selectedDepartmentIndex: selectedStoreData.departments.findIndex(dept => dept.department === selectedDepartment),\n      // 선택된 담당자 정보 추가 (FloatingPreview에서 쉽게 접근할 수 있도록)\n      selectedManagerInfo: {\n        name: selectedManager.managerName,\n        phone: selectedManager.fullPhone,\n        department: selectedDepartment\n      }\n    };\n    console.log('✅ 최종 선택된 도착지 정보:', completeStoreInfo);\n\n    // Context에 저장 (헬퍼 함수 사용)\n    setDestinationStore(completeStoreInfo, selectedDepartment, completeStoreInfo.selectedDepartmentIndex);\n    setSelectedStore(completeStoreInfo);\n\n    // 모달 초기화\n    setShowModal(false);\n    setModalStep(1);\n    setSelectedStoreData(null);\n    setSelectedDepartment(null);\n    setSelectedManager(null);\n    setDepartmentManagers([]);\n  };\n\n  // 계속하기 버튼 핸들러\n  const handleContinue = () => {\n    if (!selectedStore) {\n      alert('도착지 매장을 선택해주세요.');\n      return;\n    }\n    dispatch({\n      type: 'SET_STEP',\n      payload: 4\n    });\n  };\n\n  // 뒤로가기 핸들러\n  const handleBack = () => {\n    dispatch({\n      type: 'SET_STEP',\n      payload: 2\n    });\n  };\n\n  // 닫기 핸들러\n  const handleClose = () => {\n    console.log('닫기');\n  };\n\n  // 미리보기 컨텐츠 생성\n  const getPreviewContent = () => {\n    let content = deliveryType || '';\n    if (originStore) {\n      const originManagerInfo = originStore.selectedManagerInfo || {};\n      content += ` • ${originStore.name}`;\n    }\n    if (selectedStore) {\n      const destinationManagerInfo = selectedStore.selectedManagerInfo || {};\n      content += ` → ${selectedStore.name} (${destinationManagerInfo.name || '담당자 미선택'})`;\n    }\n    return content || '도착지 선택';\n  };\n\n  // 모달 내 검색 필터링\n  const filteredDepartmentManagers = departmentManagers.filter(manager => {\n    if (!modalSearchTerm.trim()) return true;\n    return manager.managerName.toLowerCase().includes(modalSearchTerm.toLowerCase());\n  });\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 flex items-center justify-center min-h-screen font-sans\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-sm mx-auto bg-white shadow-lg rounded-3xl overflow-hidden h-screen max-h-[812px] flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          title: \"\\uB3C4\\uCC29\\uC9C0 \\uC120\\uD0DD\",\n          subtitle: \"\\uB9E4\\uC7A5 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\",\n          currentStep: 3,\n          onBack: handleBack,\n          onClose: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"flex-1 bg-gray-50 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"\\uB9E4\\uC7A5 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 flex items-center justify-center min-h-screen font-sans\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-sm mx-auto bg-white shadow-lg rounded-3xl overflow-hidden h-screen max-h-[812px] flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          title: \"\\uB3C4\\uCC29\\uC9C0 \\uC120\\uD0DD\",\n          subtitle: \"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\",\n          currentStep: 3,\n          onBack: handleBack,\n          onClose: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"flex-1 bg-gray-50 flex items-center justify-center p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-exclamation-triangle text-red-500 text-4xl mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-600 mb-4\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: triggerUpdate,\n              className: \"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors\",\n              children: \"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 flex items-center justify-center min-h-screen font-sans\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-sm mx-auto bg-white shadow-lg rounded-3xl overflow-hidden h-screen max-h-[812px] flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          title: \"\\uB3C4\\uCC29\\uC9C0 \\uC120\\uD0DD\",\n          subtitle: \"\\uBB3C\\uD488\\uC744 \\uBC1B\\uC744 \\uB9E4\\uC7A5\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\",\n          currentStep: 3,\n          onBack: handleBack,\n          onClose: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"flex-1 bg-gray-50 overflow-hidden flex flex-col\",\n          children: [originStore && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 pt-4 pb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-orange-100 to-orange-50 border border-orange-200 rounded-xl p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa-solid fa-arrow-right text-orange-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"\\uCD9C\\uBC1C\\uC9C0:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-800\",\n                  children: originStore.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this), originStore.selectedManagerInfo && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs bg-orange-200 text-orange-700 px-2 py-0.5 rounded-full\",\n                  children: originStore.selectedManagerInfo.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 pb-4\",\n            children: /*#__PURE__*/_jsxDEV(SearchInput, {\n              placeholder: \"\\uB9E4\\uC7A5\\uBA85, \\uC8FC\\uC18C, \\uB9E4\\uC7A5\\uCF54\\uB4DC\\uB85C \\uAC80\\uC0C9...\",\n              value: searchTerm,\n              onChange: setSearchTerm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto px-6 pb-20\",\n            children: filteredStores.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center justify-center h-64\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search text-gray-400 text-4xl mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 text-center\",\n                children: searchTerm ? '검색 결과가 없습니다.' : '선택 가능한 매장이 없습니다.'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSearchTerm(''),\n                className: \"mt-2 text-orange-500 text-sm hover:underline\",\n                children: \"\\uC804\\uCCB4 \\uB9E4\\uC7A5 \\uBCF4\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: filteredStores.map(store => /*#__PURE__*/_jsxDEV(Card, {\n                selected: (selectedStore === null || selectedStore === void 0 ? void 0 : selectedStore.id) === store.id,\n                onClick: () => handleStoreSelect(store),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 mb-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-bold text-gray-800 text-sm\",\n                        children: store.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 29\n                      }, this), store.storeCode && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded\",\n                        children: store.storeCode\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-600 mb-2\",\n                      children: store.address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-wrap gap-1\",\n                      children: Object.keys(store.departmentGroups).map(department => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `inline-block px-2 py-0.5 text-xs rounded-full border ${getDepartmentColor(department)}`,\n                        children: [department, \" (\", store.departmentGroups[department].length, \"\\uBA85)\"]\n                      }, department, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 381,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-3\",\n                    children: (selectedStore === null || selectedStore === void 0 ? void 0 : selectedStore.id) === store.id ? /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-check-circle text-orange-500 text-xl\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-chevron-right text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 23\n                }, this)\n              }, store.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FloatingPreview, {\n          content: getPreviewContent(),\n          onEdit: () => dispatch({\n            type: 'SET_STEP',\n            payload: 1\n          }),\n          show: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"p-6 border-t border-gray-200 bg-white\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleContinue,\n            disabled: !selectedStore,\n            children: \"\\uACC4\\uC18D\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), showModal && selectedStoreData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-3xl w-full max-w-sm mx-4 max-h-[80vh] flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-bold text-gray-800\",\n                children: selectedStoreData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: modalStep === 1 ? '부서 선택' : '담당자 선택'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowModal(false),\n              className: \"text-gray-500 hover:text-gray-700\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times text-xl\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this), modalStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: /*#__PURE__*/_jsxDEV(SearchInput, {\n              placeholder: \"\\uB2F4\\uB2F9\\uC790 \\uAC80\\uC0C9...\",\n              value: modalSearchTerm,\n              onChange: setModalSearchTerm,\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-6\",\n          children: [modalStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: Object.keys(selectedStoreData.departmentGroups).map(department => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `bg-white border rounded-lg p-4 cursor-pointer transition-all ${selectedDepartment === department ? 'border-orange-500 bg-orange-50' : 'border-gray-200 hover:border-orange-300 hover:shadow-lg'}`,\n              onClick: () => handleModalDepartmentSelect(department),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `w-3 h-3 rounded-full ${getDepartmentColor(department).includes('blue') ? 'bg-blue-500' : getDepartmentColor(department).includes('green') ? 'bg-green-500' : getDepartmentColor(department).includes('purple') ? 'bg-purple-500' : 'bg-gray-500'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"font-bold text-gray-800 text-sm\",\n                      children: [department, \" \\uB9E4\\uC7A5\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-600\",\n                      children: [\"\\uB2F4\\uB2F9\\uC790 \", selectedStoreData.departmentGroups[department].length, \"\\uBA85\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chevron-right text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 23\n              }, this)\n            }, department, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 17\n          }, this), modalStep === 2 && selectedDepartment && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-3 border mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block px-2 py-1 text-xs rounded-full border ${getDepartmentColor(selectedDepartment)}`,\n                children: [selectedDepartment, \" \\uB9E4\\uC7A5\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: filteredDepartmentManagers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-8\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: modalSearchTerm ? '검색 결과가 없습니다.' : '담당자가 없습니다.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 23\n              }, this) : filteredDepartmentManagers.map((manager, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `bg-white border rounded-lg p-4 cursor-pointer transition-all ${(selectedManager === null || selectedManager === void 0 ? void 0 : selectedManager.id) === manager.id ? 'border-orange-500 bg-orange-50' : 'border-gray-200 hover:border-orange-300 hover:shadow-lg'}`,\n                onClick: () => handleModalManagerSelect(manager),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-10 h-10 bg-gradient-to-br from-green-400 to-green-500 rounded-lg flex items-center justify-center text-white font-bold text-sm\",\n                      children: manager.managerName.charAt(0)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-bold text-gray-800 text-sm\",\n                        children: manager.managerName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-600\",\n                        children: manager.fullPhone || '연락처 없음'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 525,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 523,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 29\n                  }, this), (selectedManager === null || selectedManager === void 0 ? void 0 : selectedManager.id) === manager.id && /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-check text-orange-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 27\n                }, this)\n              }, manager.id || index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleModalConfirm,\n            disabled: !selectedManager,\n            className: \"w-full bg-gradient-to-br from-orange-500 to-orange-600 text-white font-bold py-3 rounded-xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-orange-300 transition-all duration-300 disabled:bg-gray-300 disabled:cursor-not-allowed disabled:shadow-none\",\n            children: selectedManager ? '선택 완료' : '담당자를 선택해주세요'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(DestinationStoreSelector, \"BangEkoBI9sGGH8Cw7JaODQrpvw=\", false, function () {\n  return [useDelivery, useAuth];\n});\n_c = DestinationStoreSelector;\nexport default DestinationStoreSelector;\nvar _c;\n$RefreshReg$(_c, \"DestinationStoreSelector\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useDelivery","useAuth","Header","FloatingPreview","Button","SearchInput","Card","jsxDEV","_jsxDEV","Fragment","_Fragment","DestinationStoreSelector","_s","deliveryType","originStore","destinationStore","dispatch","setDestinationStore","user","token","selectedStore","setSelectedStore","searchTerm","setSearchTerm","stores","setStores","loading","setLoading","error","setError","forceUpdate","setForceUpdate","selectedStoreData","setSelectedStoreData","selectedDepartment","setSelectedDepartment","selectedManager","setSelectedManager","departmentManagers","setDepartmentManagers","showModal","setShowModal","modalStep","setModalStep","modalSearchTerm","setModalSearchTerm","triggerUpdate","prev","fetchStores","response","fetch","method","headers","ok","Error","status","result","json","success","data","length","finalStores","map","store","departmentGroups","Array","isArray","departments","forEach","dept","deptIndex","department","managerName","push","id","_id","phone","managerPhone","fullPhone","replace","storeCode","name","storeName","address","isActive","filteredStores","filter","console","log","message","trim","searchLower","toLowerCase","includes","getDepartmentColor","colors","handleStoreSelect","handleModalDepartmentSelect","managers","handleModalManagerSelect","manager","handleModalConfirm","alert","completeStoreInfo","selectedDepartmentIndex","findIndex","selectedManagerInfo","handleContinue","type","payload","handleBack","handleClose","getPreviewContent","content","originManagerInfo","destinationManagerInfo","filteredDepartmentManagers","className","children","title","subtitle","currentStep","onBack","onClose","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","value","onChange","selected","Object","keys","onEdit","show","disabled","size","index","charAt","_c","$RefreshReg$"],"sources":["C:/project/quinorslv/quinors-app-frontend/client/src/components/forms/DestinationStoreSelector.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useDelivery } from '../../context/DeliveryContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport Header from '../common/Header';\r\nimport FloatingPreview from '../common/FloatingPreview';\r\nimport Button from '../ui/Button';\r\nimport SearchInput from '../common/SearchInput';\r\nimport Card from '../ui/Card';\r\n\r\nconst DestinationStoreSelector = () => {\r\n  const { deliveryType, originStore, destinationStore, dispatch, setDestinationStore } = useDelivery();\r\n  const { user, token } = useAuth();\r\n  \r\n  const [selectedStore, setSelectedStore] = useState(destinationStore);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [stores, setStores] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [forceUpdate, setForceUpdate] = useState(0);\r\n\r\n  // 3단계 선택 상태 (모달에서 사용)\r\n  const [selectedStoreData, setSelectedStoreData] = useState(null);\r\n  const [selectedDepartment, setSelectedDepartment] = useState(null);\r\n  const [selectedManager, setSelectedManager] = useState(null);\r\n  const [departmentManagers, setDepartmentManagers] = useState([]);\r\n\r\n  // 모달 상태\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalStep, setModalStep] = useState(1);\r\n  const [modalSearchTerm, setModalSearchTerm] = useState('');\r\n\r\n  // 강제 리렌더링 함수\r\n  const triggerUpdate = useCallback(() => {\r\n    setForceUpdate(prev => prev + 1);\r\n  }, []);\r\n\r\n  // 매장 데이터 가져오기\r\n  useEffect(() => {\r\n    const fetchStores = async () => {\r\n      if (!token) {\r\n        setLoading(false);\r\n        setError('로그인이 필요합니다');\r\n        setStores([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        const response = await fetch('https://quinors-lv-backend.ngrok.io/api/auth/stores?active=true&limit=100', {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`API 호출 실패: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        if (!result.success || !result.data || result.data.length === 0) {\r\n          throw new Error('매장 데이터가 없습니다');\r\n        }\r\n\r\n        // 서버 응답 구조에 맞게 데이터 처리\r\n        const finalStores = result.data.map((store) => {\r\n          // 부서별로 담당자 그룹화\r\n          const departmentGroups = {};\r\n          \r\n          if (Array.isArray(store.departments)) {\r\n            store.departments.forEach((dept, deptIndex) => {\r\n              const department = dept.department || '일반';\r\n              const managerName = dept.managerName || '담당자';\r\n\r\n              if (!departmentGroups[department]) {\r\n                departmentGroups[department] = [];\r\n              }\r\n\r\n              departmentGroups[department].push({\r\n                id: `${store._id}_${department}_${managerName}_${deptIndex}`,\r\n                managerName: managerName,\r\n                phone: dept.managerPhone || '',\r\n                fullPhone: dept.fullPhone || (dept.managerPhone ? \r\n                  dept.managerPhone.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-$2-$3') : '')\r\n              });\r\n            });\r\n          }\r\n\r\n          return {\r\n            id: store._id,\r\n            storeCode: store.storeCode || '',\r\n            name: store.storeName || '',\r\n            address: store.address || '',\r\n            isActive: store.isActive !== false,\r\n            departments: store.departments || [],\r\n            departmentGroups: departmentGroups\r\n          };\r\n        });\r\n\r\n        // 출발지와 같은 매장 필터링\r\n        const filteredStores = finalStores.filter(store => \r\n          !originStore || store.id !== originStore.id\r\n        );\r\n\r\n        console.log('✅ 도착지 매장 데이터 로딩 완료:', filteredStores.length, '개');\r\n        setStores(filteredStores);\r\n        setLoading(false);\r\n\r\n      } catch (error) {\r\n        console.error('❌ 매장 데이터 로딩 실패:', error);\r\n        setError(error.message || '매장 데이터를 불러오는데 실패했습니다');\r\n        setStores([]);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchStores();\r\n  }, [token, forceUpdate, originStore]);\r\n\r\n  // 검색 필터링\r\n  const filteredStores = stores.filter(store => {\r\n    if (!searchTerm.trim()) return true;\r\n    const searchLower = searchTerm.toLowerCase();\r\n    return (\r\n      store.name.toLowerCase().includes(searchLower) ||\r\n      store.address.toLowerCase().includes(searchLower) ||\r\n      store.storeCode.toLowerCase().includes(searchLower)\r\n    );\r\n  });\r\n\r\n  // 부서 색상 함수\r\n  const getDepartmentColor = (department) => {\r\n    const colors = {\r\n      '매장': 'bg-blue-100 text-blue-700 border-blue-200',\r\n      '창고': 'bg-green-100 text-green-700 border-green-200',\r\n      '사무실': 'bg-purple-100 text-purple-700 border-purple-200',\r\n      '일반': 'bg-gray-100 text-gray-700 border-gray-200'\r\n    };\r\n    return colors[department] || colors['일반'];\r\n  };\r\n\r\n  // 매장 선택 핸들러\r\n  const handleStoreSelect = (store) => {\r\n    console.log('도착지 매장 선택:', store.name);\r\n    setSelectedStoreData(store);\r\n    setModalStep(1);\r\n    setModalSearchTerm('');\r\n    setShowModal(true);\r\n  };\r\n\r\n  // 모달에서 부서 선택\r\n  const handleModalDepartmentSelect = (department) => {\r\n    console.log('도착지 부서 선택:', department);\r\n    setSelectedDepartment(department);\r\n    \r\n    // 해당 부서의 담당자들 설정\r\n    const managers = selectedStoreData.departmentGroups[department] || [];\r\n    setDepartmentManagers(managers);\r\n    setModalStep(2);\r\n  };\r\n\r\n  // 모달에서 담당자 선택\r\n  const handleModalManagerSelect = (manager) => {\r\n    console.log('도착지 담당자 선택:', manager);\r\n    setSelectedManager(manager);\r\n  };\r\n\r\n  // 모달 확인 (최종 선택 완료)\r\n  const handleModalConfirm = () => {\r\n    if (!selectedManager || !selectedStoreData || !selectedDepartment) {\r\n      alert('모든 정보를 선택해주세요.');\r\n      return;\r\n    }\r\n\r\n    // 🎯 선택된 매장 정보에 부서와 담당자 정보 추가\r\n    const completeStoreInfo = {\r\n      ...selectedStoreData,\r\n      // 선택된 부서 정보 추가\r\n      selectedDepartment: selectedDepartment,\r\n      selectedDepartmentIndex: selectedStoreData.departments.findIndex(\r\n        dept => dept.department === selectedDepartment\r\n      ),\r\n      // 선택된 담당자 정보 추가 (FloatingPreview에서 쉽게 접근할 수 있도록)\r\n      selectedManagerInfo: {\r\n        name: selectedManager.managerName,\r\n        phone: selectedManager.fullPhone,\r\n        department: selectedDepartment\r\n      }\r\n    };\r\n\r\n    console.log('✅ 최종 선택된 도착지 정보:', completeStoreInfo);\r\n\r\n    // Context에 저장 (헬퍼 함수 사용)\r\n    setDestinationStore(completeStoreInfo, selectedDepartment, completeStoreInfo.selectedDepartmentIndex);\r\n    setSelectedStore(completeStoreInfo);\r\n\r\n    // 모달 초기화\r\n    setShowModal(false);\r\n    setModalStep(1);\r\n    setSelectedStoreData(null);\r\n    setSelectedDepartment(null);\r\n    setSelectedManager(null);\r\n    setDepartmentManagers([]);\r\n  };\r\n\r\n  // 계속하기 버튼 핸들러\r\n  const handleContinue = () => {\r\n    if (!selectedStore) {\r\n      alert('도착지 매장을 선택해주세요.');\r\n      return;\r\n    }\r\n    dispatch({ type: 'SET_STEP', payload: 4 });\r\n  };\r\n\r\n  // 뒤로가기 핸들러\r\n  const handleBack = () => {\r\n    dispatch({ type: 'SET_STEP', payload: 2 });\r\n  };\r\n\r\n  // 닫기 핸들러\r\n  const handleClose = () => {\r\n    console.log('닫기');\r\n  };\r\n\r\n  // 미리보기 컨텐츠 생성\r\n  const getPreviewContent = () => {\r\n    let content = deliveryType || '';\r\n    \r\n    if (originStore) {\r\n      const originManagerInfo = originStore.selectedManagerInfo || {};\r\n      content += ` • ${originStore.name}`;\r\n    }\r\n    \r\n    if (selectedStore) {\r\n      const destinationManagerInfo = selectedStore.selectedManagerInfo || {};\r\n      content += ` → ${selectedStore.name} (${destinationManagerInfo.name || '담당자 미선택'})`;\r\n    }\r\n    \r\n    return content || '도착지 선택';\r\n  };\r\n\r\n  // 모달 내 검색 필터링\r\n  const filteredDepartmentManagers = departmentManagers.filter(manager => {\r\n    if (!modalSearchTerm.trim()) return true;\r\n    return manager.managerName.toLowerCase().includes(modalSearchTerm.toLowerCase());\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-gray-100 flex items-center justify-center min-h-screen font-sans\">\r\n        <div className=\"w-full max-w-sm mx-auto bg-white shadow-lg rounded-3xl overflow-hidden h-screen max-h-[812px] flex flex-col\">\r\n          <Header\r\n            title=\"도착지 선택\"\r\n            subtitle=\"매장 정보를 불러오는 중...\"\r\n            currentStep={3}\r\n            onBack={handleBack}\r\n            onClose={handleClose}\r\n          />\r\n          <main className=\"flex-1 bg-gray-50 flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n              <div className=\"animate-spin w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\r\n              <p className=\"text-gray-600\">매장 정보를 불러오는 중...</p>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-gray-100 flex items-center justify-center min-h-screen font-sans\">\r\n        <div className=\"w-full max-w-sm mx-auto bg-white shadow-lg rounded-3xl overflow-hidden h-screen max-h-[812px] flex flex-col\">\r\n          <Header\r\n            title=\"도착지 선택\"\r\n            subtitle=\"오류가 발생했습니다\"\r\n            currentStep={3}\r\n            onBack={handleBack}\r\n            onClose={handleClose}\r\n          />\r\n          <main className=\"flex-1 bg-gray-50 flex items-center justify-center p-6\">\r\n            <div className=\"text-center\">\r\n              <i className=\"fas fa-exclamation-triangle text-red-500 text-4xl mb-4\"></i>\r\n              <p className=\"text-red-600 mb-4\">{error}</p>\r\n              <button\r\n                onClick={triggerUpdate}\r\n                className=\"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors\"\r\n              >\r\n                다시 시도\r\n              </button>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-gray-100 flex items-center justify-center min-h-screen font-sans\">\r\n        <div className=\"w-full max-w-sm mx-auto bg-white shadow-lg rounded-3xl overflow-hidden h-screen max-h-[812px] flex flex-col\">\r\n          <Header\r\n            title=\"도착지 선택\"\r\n            subtitle=\"물품을 받을 매장을 선택해주세요\"\r\n            currentStep={3}\r\n            onBack={handleBack}\r\n            onClose={handleClose}\r\n          />\r\n\r\n          <main className=\"flex-1 bg-gray-50 overflow-hidden flex flex-col\">\r\n            {/* 출발지 정보 표시 */}\r\n            {originStore && (\r\n              <div className=\"px-6 pt-4 pb-2\">\r\n                <div className=\"bg-gradient-to-r from-orange-100 to-orange-50 border border-orange-200 rounded-xl p-3\">\r\n                  <div className=\"flex items-center gap-2 text-sm\">\r\n                    <i className=\"fa-solid fa-arrow-right text-orange-500\"></i>\r\n                    <span className=\"text-gray-600\">출발지:</span>\r\n                    <span className=\"font-medium text-gray-800\">{originStore.name}</span>\r\n                    {originStore.selectedManagerInfo && (\r\n                      <span className=\"text-xs bg-orange-200 text-orange-700 px-2 py-0.5 rounded-full\">\r\n                        {originStore.selectedManagerInfo.name}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* 검색 입력 */}\r\n            <div className=\"px-6 pb-4\">\r\n              <SearchInput\r\n                placeholder=\"매장명, 주소, 매장코드로 검색...\"\r\n                value={searchTerm}\r\n                onChange={setSearchTerm}\r\n              />\r\n            </div>\r\n\r\n            {/* 매장 목록 */}\r\n            <div className=\"flex-1 overflow-y-auto px-6 pb-20\">\r\n              {filteredStores.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center h-64\">\r\n                  <i className=\"fas fa-search text-gray-400 text-4xl mb-4\"></i>\r\n                  <p className=\"text-gray-500 text-center\">\r\n                    {searchTerm ? '검색 결과가 없습니다.' : '선택 가능한 매장이 없습니다.'}\r\n                  </p>\r\n                  {searchTerm && (\r\n                    <button\r\n                      onClick={() => setSearchTerm('')}\r\n                      className=\"mt-2 text-orange-500 text-sm hover:underline\"\r\n                    >\r\n                      전체 매장 보기\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {filteredStores.map((store) => (\r\n                    <Card\r\n                      key={store.id}\r\n                      selected={selectedStore?.id === store.id}\r\n                      onClick={() => handleStoreSelect(store)}\r\n                    >\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-1\">\r\n                            <h3 className=\"font-bold text-gray-800 text-sm\">{store.name}</h3>\r\n                            {store.storeCode && (\r\n                              <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded\">\r\n                                {store.storeCode}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-600 mb-2\">{store.address}</p>\r\n                          \r\n                          {/* 부서 정보 표시 */}\r\n                          <div className=\"flex flex-wrap gap-1\">\r\n                            {Object.keys(store.departmentGroups).map((department) => (\r\n                              <span\r\n                                key={department}\r\n                                className={`inline-block px-2 py-0.5 text-xs rounded-full border ${getDepartmentColor(department)}`}\r\n                              >\r\n                                {department} ({store.departmentGroups[department].length}명)\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"ml-3\">\r\n                          {selectedStore?.id === store.id ? (\r\n                            <i className=\"fas fa-check-circle text-orange-500 text-xl\"></i>\r\n                          ) : (\r\n                            <i className=\"fas fa-chevron-right text-gray-400\"></i>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </main>\r\n\r\n          <FloatingPreview\r\n            content={getPreviewContent()}\r\n            onEdit={() => dispatch({ type: 'SET_STEP', payload: 1 })}\r\n            show={true}\r\n          />\r\n\r\n          <footer className=\"p-6 border-t border-gray-200 bg-white\">\r\n            <Button \r\n              onClick={handleContinue}\r\n              disabled={!selectedStore}\r\n            >\r\n              계속하기\r\n            </Button>\r\n          </footer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 3단계 선택 모달 */}\r\n      {showModal && selectedStoreData && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-3xl w-full max-w-sm mx-4 max-h-[80vh] flex flex-col\">\r\n            {/* 모달 헤더 */}\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h2 className=\"text-lg font-bold text-gray-800\">{selectedStoreData.name}</h2>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    {modalStep === 1 ? '부서 선택' : '담당자 선택'}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={() => setShowModal(false)}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <i className=\"fas fa-times text-xl\"></i>\r\n                </button>\r\n              </div>\r\n              \r\n              {modalStep === 2 && (\r\n                <div className=\"mt-4\">\r\n                  <SearchInput\r\n                    placeholder=\"담당자 검색...\"\r\n                    value={modalSearchTerm}\r\n                    onChange={setModalSearchTerm}\r\n                    size=\"sm\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* 모달 내용 */}\r\n            <div className=\"flex-1 overflow-y-auto p-6\">\r\n              {/* 1단계: 부서 선택 */}\r\n              {modalStep === 1 && (\r\n                <div className=\"space-y-3\">\r\n                  {Object.keys(selectedStoreData.departmentGroups).map((department) => (\r\n                    <div\r\n                      key={department}\r\n                      className={`bg-white border rounded-lg p-4 cursor-pointer transition-all ${\r\n                        selectedDepartment === department\r\n                          ? 'border-orange-500 bg-orange-50'\r\n                          : 'border-gray-200 hover:border-orange-300 hover:shadow-lg'\r\n                      }`}\r\n                      onClick={() => handleModalDepartmentSelect(department)}\r\n                    >\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className={`w-3 h-3 rounded-full ${getDepartmentColor(department).includes('blue') ? 'bg-blue-500' : \r\n                            getDepartmentColor(department).includes('green') ? 'bg-green-500' : \r\n                            getDepartmentColor(department).includes('purple') ? 'bg-purple-500' : 'bg-gray-500'}`}>\r\n                          </div>\r\n                          <div>\r\n                            <h3 className=\"font-bold text-gray-800 text-sm\">{department} 매장</h3>\r\n                            <p className=\"text-xs text-gray-600\">\r\n                              담당자 {selectedStoreData.departmentGroups[department].length}명\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <i className=\"fas fa-chevron-right text-gray-400\"></i>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/* 2단계: 담당자 선택 */}\r\n              {modalStep === 2 && selectedDepartment && (\r\n                <>\r\n                  <div className=\"bg-gray-50 rounded-lg p-3 border mb-4\">\r\n                    <span className={`inline-block px-2 py-1 text-xs rounded-full border ${getDepartmentColor(selectedDepartment)}`}>\r\n                      {selectedDepartment} 매장\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    {filteredDepartmentManagers.length === 0 ? (\r\n                      <div className=\"text-center py-8\">\r\n                        <p className=\"text-gray-500 text-sm\">\r\n                          {modalSearchTerm ? '검색 결과가 없습니다.' : '담당자가 없습니다.'}\r\n                        </p>\r\n                      </div>\r\n                    ) : (\r\n                      filteredDepartmentManagers.map((manager, index) => (\r\n                        <div\r\n                          key={manager.id || index}\r\n                          className={`bg-white border rounded-lg p-4 cursor-pointer transition-all ${\r\n                            selectedManager?.id === manager.id\r\n                              ? 'border-orange-500 bg-orange-50'\r\n                              : 'border-gray-200 hover:border-orange-300 hover:shadow-lg'\r\n                          }`}\r\n                          onClick={() => handleModalManagerSelect(manager)}\r\n                        >\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"w-10 h-10 bg-gradient-to-br from-green-400 to-green-500 rounded-lg flex items-center justify-center text-white font-bold text-sm\">\r\n                                {manager.managerName.charAt(0)}\r\n                              </div>\r\n                              <div>\r\n                                <h3 className=\"font-bold text-gray-800 text-sm\">{manager.managerName}</h3>\r\n                                <p className=\"text-xs text-gray-600\">\r\n                                  {manager.fullPhone || '연락처 없음'}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                            {selectedManager?.id === manager.id && (\r\n                              <i className=\"fas fa-check text-orange-500\"></i>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* 모달 푸터 */}\r\n            <div className=\"p-4 border-t border-gray-200\">\r\n              <button\r\n                onClick={handleModalConfirm}\r\n                disabled={!selectedManager}\r\n                className=\"w-full bg-gradient-to-br from-orange-500 to-orange-600 text-white font-bold py-3 rounded-xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-orange-300 transition-all duration-300 disabled:bg-gray-300 disabled:cursor-not-allowed disabled:shadow-none\"\r\n              >\r\n                {selectedManager ? '선택 완료' : '담당자를 선택해주세요'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DestinationStoreSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}